{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Projects\\\\Webstorm\\\\crypto-shop\\\\node_modules\\\\@angular-devkit\\\\build-angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nlet JwtAuthGuard = class JwtAuthGuard {\n  constructor(router) {\n    this.router = router;\n  }\n\n  canActivate(route, state) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const hasAuth = localStorage.getItem('authorization') !== null;\n      console.log(hasAuth);\n\n      if (!hasAuth) {\n        yield _this.router.navigateByUrl('auth/login');\n      }\n\n      return hasAuth;\n    })();\n  }\n\n};\n\nJwtAuthGuard.ctorParameters = () => [{\n  type: Router\n}];\n\nJwtAuthGuard = __decorate([Injectable({\n  providedIn: 'root'\n}), __metadata(\"design:paramtypes\", [Router])], JwtAuthGuard);\nexport { JwtAuthGuard };","map":{"version":3,"sources":["C:/Projects/Webstorm/crypto-shop/libs/ui-lib-shared/src/lib/guards/jwt-auth-guard.service.ts"],"names":["__decorate","__metadata","Injectable","Router","JwtAuthGuard","constructor","router","canActivate","route","state","hasAuth","localStorage","getItem","console","log","navigateByUrl","ctorParameters","type","providedIn"],"mappings":";AAAA,SAASA,UAAT,EAAqBC,UAArB,QAAuC,OAAvC;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,MAAT,QAAwB,iBAAxB;AACA,IAAIC,YAAY,GAAG,MAAMA,YAAN,CAAmB;AAClCC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAChB,SAAKA,MAAL,GAAcA,MAAd;AACH;;AACKC,EAAAA,WAAW,CAACC,KAAD,EAAQC,KAAR,EAAe;AAAA;;AAAA;AAC5B,YAAMC,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,MAA0C,IAA1D;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;;AACA,UAAI,CAACA,OAAL,EAAc;AACV,cAAM,KAAI,CAACJ,MAAL,CAAYS,aAAZ,CAA0B,YAA1B,CAAN;AACH;;AACD,aAAOL,OAAP;AAN4B;AAO/B;;AAXiC,CAAtC;;AAaAN,YAAY,CAACY,cAAb,GAA8B,MAAM,CAChC;AAAEC,EAAAA,IAAI,EAAEd;AAAR,CADgC,CAApC;;AAGAC,YAAY,GAAGJ,UAAU,CAAC,CACtBE,UAAU,CAAC;AAAEgB,EAAAA,UAAU,EAAE;AAAd,CAAD,CADY,EAEtBjB,UAAU,CAAC,mBAAD,EAAsB,CAACE,MAAD,CAAtB,CAFY,CAAD,EAGtBC,YAHsB,CAAzB;AAIA,SAASA,YAAT","sourcesContent":["import { __decorate, __metadata } from \"tslib\";\r\nimport { Injectable } from '@angular/core';\r\nimport { Router, } from '@angular/router';\r\nlet JwtAuthGuard = class JwtAuthGuard {\r\n    constructor(router) {\r\n        this.router = router;\r\n    }\r\n    async canActivate(route, state) {\r\n        const hasAuth = localStorage.getItem('authorization') !== null;\r\n        console.log(hasAuth);\r\n        if (!hasAuth) {\r\n            await this.router.navigateByUrl('auth/login');\r\n        }\r\n        return hasAuth;\r\n    }\r\n};\r\nJwtAuthGuard.ctorParameters = () => [\r\n    { type: Router }\r\n];\r\nJwtAuthGuard = __decorate([\r\n    Injectable({ providedIn: 'root' }),\r\n    __metadata(\"design:paramtypes\", [Router])\r\n], JwtAuthGuard);\r\nexport { JwtAuthGuard };\r\n"]},"metadata":{},"sourceType":"module"}